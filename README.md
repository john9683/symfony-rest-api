## Кастомный SYMFONY REST API для работы с пользователями 

### Работоспособность и общая функциональность
1. API принимает HTTP-запросы, обрабатывает и пишет в БД
2. API полностью работоспособен и может быть запущен локально
3. Код API покрыт тестами, включая возможные исключения
4. API имеет функцию подтверждения email (как впервые введённого, так и изменённого)
5. Web-формы регистрации и внесения изменений в данные пользователя с валидацией данных и сообщениями

### REST API 

####  POST: 
1. проверить, что email уникален, иначе вернуть 403,
2. создать пользователя, 
3. отправить на указанный email пользователя запрос подтверждения email

####  GET: 
1. проверить, что пользователь существует, иначе вернуть 404,
2. вернуть данные пользователя

####  PATH: 
1. проверить, что пользователь существует, иначе вернуть 404,
2. обновить данные пользователя (одним запросом можно обновить все данные или часть)

#### DELETE: 
1. проверить, что пользователь существует, иначе вернуть 404,
2. удалить пользователя

####  Аутентификация и авторизация:
  - осуществляется по Bearer токену и соответствующей роли пользователя 

### Структура
1. Controller/Api/UserController - взаимодействие с HTTP-клиентом, валидация запроса, передача данных UserService для обработки
2. Service/UserService - логика приложения: обработка данных 
3. Entity/User - описание сущности user
4. Migrations - описание таблицы user
5. Templates/email - шаблон письма пользователю
6. Controller/HomepageController - домашняя страница
7. Controller/ProfileController - изменение данных пользователя
8. Controller/SecurityController - вход с паролем, регистрация пользователя, верификация email 
9. Service/Mailer - отправка писем
10. Service/VerifyEmailer - подтверждение email
11. Validator/ - валидации web-формы регистрации
12. Security/ - аутентификация и авторизация по паролю и токену
13. Form/ - web-формы
14. Event/ & EventSuscriber/ - отправка писем реализована через событие и слушателя

### Тесты API
1. Tests/Api/UserControllerTest - тесты всех методов UserController
2. Для создания пользователя с ролью API и его удаления после тестов используются кастомные методы (setUp() "не завёлся")

### Запуск приложения
1. Установить пакеты
2. Создать БД
3. Выполнить миргацию
4. Для работы с приложением можно использовать HTTP-клиент или WEB-интерфейс приложения

### Запуск тестов
1. Создать тестовую БД
2. Выполнить миргацию
3. Запустить тесты
